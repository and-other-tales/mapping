<!DOCTYPE html>
<html>
<head>
    <title>Tile Viewer</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { margin: 0; padding: 0; font-family: Arial, sans-serif; }
        #map { height: 400px; width: 100%; margin-bottom: 20px; }
        .container { padding: 20px; max-width: 800px; margin: 0 auto; }
        .alert { background-color: #f8d7da; color: #721c24; padding: 15px; border-radius: 4px; margin-bottom: 20px; }
        code { background: #f5f5f5; padding: 2px 5px; border-radius: 3px; }
        h1 { color: #333; }
    </style>
</head>
<body>
    <div class="container">
        <h1>3D Tiles Viewer</h1>
        <div class="alert">
            <strong>Note:</strong> XYZ tiles could not be generated because GDAL is not installed.
        </div>
        
        <h2>Mosaic Preview</h2>
        <div id="map"></div>
        <script>
            var map = L.map('map').setView([51.5, -0.1], 12);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; OpenStreetMap contributors',
                maxZoom: 19
            }).addTo(map);
            
            var bounds = [[51.4, -0.2], [51.6, 0.1]]; // London approximate bounds
            map.fitBounds(bounds);
            
            // Add marker for the mosaic location
            L.marker([51.5, -0.1]).addTo(map)
                .bindPopup("Mosaic location (approximate)");
        </script>
        
        <h2>Instructions to fix:</h2>
        <ol>
            <li>Install GDAL with pip: <code>pip install gdal</code></li>
            <li>Run the process command again: <code>python3 3dtiles.py process downloaded_tiles</code></li>
        </ol>
        
        <h3>Alternative:</h3>
        <p>You can manually convert the mosaic file to XYZ tiles using other tools.</p>
        <p>Mosaic file location: <code>/home/david/mapping/downloaded_tiles/test_mosaic_3857.tif</code></p>
    </div>
</body>
</html>